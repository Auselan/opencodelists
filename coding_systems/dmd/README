Dictionary of Medicines and Devices (dm+d)
------------------------------------------

dm+d codes are used to identify medicines and devices in use across the NHS.

For more details, see our blog post [0].

We obtain the raw data from TRUD [1].

You will need an account to access TRUD, and may be asked for a reason when you sign up -- if so, mention OpenCodelists.

On the TRUD release page, download the latest release, which will be a zip file called something like nhsbsa_dmd_11.3.0_20221128000001.zip

dm+d updates are released weekly.  The release number (11.3.0 in the example above) refers to the month and (zero-indexed) week of the current year.  The valid from date can be retrieved from the date in the filename.  To avoid confusion, label the release with the year as well as the release number.

To import the data, run:

    ./manage.py import_coding_system_data dmd
    path/to/zip/file/in/dokku/app
    --release <release_name> --valid-from YYYY-MM-DD --import-ref <ref>

- `release` is a short label for this coding system release - the release year/number as
  described above.
- `valid-from` is the date that this release is valid from (NOT the date it is being
  imported into OpenCodelists), in YYYY-MM-DD format
- `import-ref` is an optional long-form reference field for any other potential
  references or comments on this import if desired. Include at least the full downloaded
  zipfile here.

For the example above (`nhsbsa_dmd_11.3.0_20221128000001.zip`), the data should be
imported with:

    dokku run opencodelists python manage.py import_coding_system_data snomedct
    /storage/data/dmd/nhsbsa_dmd_11.3.0_20221128000001.zip
    --release '2022 11.3.0'
    --valid-from 2022-11-28
    --import-ref nhsbsa_dmd_11.3.0_20221128000001.zip

[0] https://www.bennett.ox.ac.uk/blog/2019/08/what-is-the-dm-d-the-nhs-dictionary-of-medicines-and-devices/
[1] https://isd.digital.nhs.uk/trud/users/authenticated/filters/0/categories/6/items/24/releases
